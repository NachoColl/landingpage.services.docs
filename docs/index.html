<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9 en no-focus"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="en no-focus">
  
<!--<![endif]-->
<head itemscope itemtype="http://schema.org/WebSite">
  <title itemprop='name'>Mustache Website Help</title>
  <!-- charset -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0">
  
  <!-- page cache -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  
  <!-- google search -->
  <meta name="robots" content="all">
  <meta name="googlebot" content="all" />
  <meta name="google" content="notranslate" />
  <meta name="google" content="nositelinkssearchbox" />
  <meta name="author" content="Nacho Coll" />
  <meta name="keywords" content="email marketing help, create email marketing, email API" itemprop='keywords' />
  <meta name="description" content="Get the required Mustache.Website mailing tool help." itemprop='description' />
  <link rel="canonical" href="https://mustache.website/help/index.html" itemprop="url" />

  <!-- http://ogp.me/, Open Graph -->
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Build your Email Marketing Campaigns and send your Transactional messages for less." />
  <meta property="og:description" content="Send your mailing for one tenth of the cost. Host your landing pages for free." />
  <meta property="og:url" content="https://mustache.website" />
  <meta property="og:site_name" content="Mustache Mailing Tool" />
  <meta property="og:image" content="http://mustache.website/_images/mustache-website-email-marketing.jpg" />
  <meta property="og:image:secure_url" content="https://mustache.website/_images/mustache-website-email-marketing.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  
  <!-- icon -->
  <link rel="shortcut icon" href="https://d2m9ia44cpx81c.cloudfront.net/images/favicon.png" />
  
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;notes&quot;,&quot;javascript&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
	  <ul class="tocify-header" style="font-size:1em; margin-left: -5px; margin-top: 2px;"><li class="tocify-item tocify-focus"><a class="pull-left hidden-sm hidden-xs" style="line-height: 54px; "><img src="https://mustache.website/_images/moustache-op-small.png" style="vertical-align:middle;" /> <span style="">&nbsp;Help Pages</span></a> </li></ul>
        <div class="lang-selector">
              <a href="#" data-language-name="notes">Notes</a>
              <a href="#" data-language-name="javascript">Javascript</a>
              <a href="#" data-language-name="csharp">.NET</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
<pre class="highlight plaintext"><code>Using mustache.website you can also
host your One Page Landings! 
</code></pre>
<p><a href="https://mustache.website">mustache.website</a> is a free service you can use to send your <strong>Email Marketing Campaigns</strong> and your <strong>Transactional Messages</strong>.</p>

<h2 id="is-this-really-free">Is this really free?</h2>

<p>Yes. </p>

<p>Once registered you get 100 email credits to check how it works. If you decide to continue using the service, we just ask you to validate your communication practices are strictly under <a href="https://www.ftc.gov/tips-advice/business-center/guidance/can-spam-act-compliance-guide-business">CAN-SPAM compliance</a>.</p>

<h1 id="contacts-list">Contacts List</h1>

<aside class="notice">
There is only one list for all your Contacts (like in a CRM System). If you need to send your campaign to some particular group you have to create a Target Group.
</aside>

<h2 id="add-a-new-contact">Add A New Contact</h2>

<p>To manually add a new contact, just select <strong>My Contacts &gt; Contact List</strong> menu option and then click on the <strong>New Contact</strong> button. Enter the contact attributes and click on the Save button.</p>
<pre class="highlight plaintext"><code>If you need to change a contact email, you must 
delete it and create a new contact.
</code></pre>
<aside class="warning">
The Email attribute is a key value that cannot be changed after creation. 
</aside>

<p><img src="images/new-contact.jpg" class="img-photo" /></p>

<h2 id="import-contacts">Import Contacts</h2>
<pre class="highlight plaintext"><code>It's recommended that you initially 
try to import some small files with 
a few records to check the results.
</code></pre>
<p>Before you start, please check that your <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV file</a> follows the next rules:</p>

<ul>
<li>The first row contains the column names.</li>
<li>There is an Email attribute column.</li>
<li>Values are Numbers, Texts or Dates.</li>
<li>Date columns use one of the allowed formats:

<ul>
<li>DD/MM/YYYY, e.g. 24/03/2017</li>
<li>MM/DD/YYYY, e.g. 01/25/2015</li>
<li><a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a> format (milliseconds), e.g. 1492364709813 representing Sun Apr 16 2017 19:45:09 GMT+0200.</li>
</ul></li>
</ul>

<p><br/></p>

<p>To start the import process click on <strong>My Contacts &gt; Import</strong> menu option and select your CSV file. </p>

<p><img src="images/import-contact-select-file.jpg" class="img-photo" /></p>
<pre class="highlight plaintext"><code>Double check your CSV file column mapping!
</code></pre>
<p>Take a look at the columns mapping that it&rsquo;s proposed and select the appropiate option for each column.</p>

<p><img src="images/import-contact-mapping.jpg" class="img-photo" /></p>
<pre class="highlight plaintext"><code>When you click the Start Import button, the 
CSV file is sent to the system and 
each row is then processed. 
</code></pre>
<p>Once you&rsquo;ve finished mapping your CSV file columns, click on the <strong>Start Import</strong> button to start the import process.</p>
<pre class="highlight plaintext"><code>You will get the import results on your 
account email, including the total
processed contacts and the total 
imported contacts number.

If there are errors while processing 
the file, you will also get some 
error details.
</code></pre>
<p><img src="images/import-contact-result.jpg" class="img-photo" /></p>

<h2 id="target-groups">Target Groups</h2>
<pre class="highlight plaintext"><code>If no new Target Groups are created, you're 
just going to be able to send a Campaign 
to all your contacts.
</code></pre>
<p>When you create a new Email Marketing campaign, you select the <a href="https://en.wikipedia.org/wiki/Target_audience">Target Group</a> to which you want to send the message. That means that if you want to send your campaign to an specific group of contacts, you have to create a new Target Group that defines that group (e.g. Canada Users).</p>
<pre class="highlight plaintext"><code>A Target Group is a database filter 
definition.
</code></pre>
<p><br/></p>

<p>To create a target group, go to <strong>My Contacts &gt; Contact List</strong> and click on the <strong>Target Groups</strong> button.</p>

<p><img src="images/target-group-create.jpg" class="img-photo" /></p>
<pre class="highlight plaintext"><code>Before saving a new Target Group, click on 
the Search button to test the filter.
</code></pre>
<p>Add the attributes values that define your target group, enter a Target Group name and click on the <strong>Save as NEW target group</strong> button.</p>

<h1 id="email-campaigns">Email Campaigns</h1>

<p>To create a new Email Campaign go to <strong>Email Marketing &gt; Campaigns</strong> and click on <strong>New Campaign</strong> button. Enter a campaign name, select the Target Group you want to send the email message and click on the <strong>Save</strong> button.</p>

<p><img src="images/campaign-select-target-group.jpg" class="img-photo" /></p>

<h2 id="message-content">Message Content</h2>

<p>After you&rsquo;ve set the campaign name and Target Group, click on the campaign <strong>email content</strong> button to setup the campaign email message. </p>

<p><img src="images/campaign-create.jpg" class="img-photo" /></p>
<pre class="highlight plaintext"><code>You can change the base template HTML code
when required to get the email message 
format you need.
</code></pre>
<p>The first time you click on the <strong>email content</strong> button you will get the option to select the base template you want to start building your campaign email. Check for the available templates and select the option that best fits your needs.</p>

<p><img src="images/campaign-select-base-template.jpg" class="img-photo" /></p>

<p>If you take a look at the next image, the content is defined by filling the text areas on the right, and not directly on the HTML preview.</p>
<pre class="highlight plaintext"><code>mustache.website templates use the 
{{mustache}} technique so you can 
build your content by just filling 
a few textboxes.
</code></pre>
<p><img src="images/campaign-mail-content.jpg" class="img-photo" /></p>

<p>If the selected template needs some modifications to fit your needs, you can change the HTML code. Click on the <strong>Change HTML Code</strong> button, and an HTML editor will be displayed. Just take care that if you want to add a new mustache, you must use the correct format.</p>

<p><img src="images/campaign-mail-content-change-html-code.jpg" class="img-photo" /></p>

<h2 id="campaign-execution">Campaign Execution</h2>

<p>Once your campaign is ready go to <strong>Email Marketing &gt; Campaigns</strong> list and click on the <strong>run the campaign</strong> to start sending the email messages to your contacts. </p>
<pre class="highlight plaintext"><code>You can pause a campaign by just
selecting the Stop campaign option.
</code></pre>
<p><img src="images/campaign-options.jpg" class="img-photo" /></p>

<p>While running, you will get updates indicating the number of messages sent, delivered and the related bounces and complaints.</p>

<h1 id="landing-pages">Landing Pages</h1>
<pre class="highlight plaintext"><code>HTML pages are saved on AWS S3 bucket 
as static HTML pages. 

Please note that you can use your own domain(s)
to access your pages.
</code></pre>
<p><a href="https://mustache.website">mustache.website</a> landing pages are created by selecting an HTML template with some {{<a href="http://mustache.github.io/">mustaches</a>}} that define the areas you can change. To create a new web page then you just need to select a template and fill the {{mustaches}}. </p>

<p>There is no need to go through a new HTML design process every time!</p>

<h2 id="web-templates">WEB Templates</h2>

<blockquote>
<p>A WEB template example.</p>
</blockquote>
<pre class="highlight plaintext"><code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;title&gt;{{meta-page_title-the_page_title}}&lt;/title&gt;
&lt;/head&gt; 

&lt;html&gt;
&lt;body&gt;

    &lt;h1&gt;{{text-header_text-big_text}}&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Before you can go for your landing pages you need to create at least one template. To start, select <strong>Landing Pages &gt; WEB Templates</strong> menu option and click on the <strong>New Template</strong> button. </p>

<p><img src="images/landing-page-new.jpg" class="img-photo"/></p>

<p>Check the available base templates you can start from, and click on the <strong>Select</strong> button for the selected template.</p>
<pre class="highlight plaintext"><code>You can also start to code your template 
from scratch if required!
</code></pre>
<p><img src="images/landing-page-select-base-template.jpg" class="img-photo"/></p>
<pre class="highlight plaintext"><code>
Just fill the 'mustaches', click save, and your 
landing page will be online!

</code></pre>
<p>Once selected, you will get an HTML editor so you can change the HTML. Just remember to use {{mustaches}} to the define the areas that will be required to modify when building the page later.</p>

<p><img src="images/landing-page-html-editor.jpg" class="img-photo"/></p>

<h3 id="adding-mustaches">Adding mustaches</h3>

<p>To make things easy when building your landing pages, we added different types of mustaches that are coded as follows: </p>

<p><code class="prettyprint">{{&lt;meta|text|icon|image|link|html&gt;-&lt;name&gt;-&lt;description&gt;}}</code></p>

<p><img src="images/template-mustache.png"  class="img-photo" /></p>
<pre class="highlight plaintext"><code>To insert a mustache in your HTML code, 
you must use the correct format.

We recommend that you use the Insert Mustache
button.

</code></pre>
<ul>
<li><p><strong>Meta</strong> mustaches are used to set meta properties content.<br/> <code class="prettyprint">{{{meta-page_title-the_page_title}}}</code></p></li>
<li><p><strong>Only Text</strong> to include non-formatted text (format is already set on the template!).<br/> <code class="prettyprint">{{{text-header_content-the_headear_title}}}</code></p></li>
<li><p><strong>Icon</strong> so you can easely include a <a href="http://simplelineicons.com/">Simple Icon</a> on your page. <br/> <code class="prettyprint">{{{icon-feature-app_feature_icon}}}</code></p></li>
<li><p><strong>Image</strong> to upload your images and use them when required. <br/> <code class="prettyprint">{{{image-app_snapshot-product_snapshot}}}</code></p></li>
<li><p><strong>Link</strong> to add references between your landing pages. <br/> <code class="prettyprint">{{{link-download_link-the_app_download_link}}}</code></p></li>
<li><p>and <strong>HTML</strong> to add any extra HTML code your page may require. <br/> <code class="prettyprint">{{{html-google-google_analytics_code}}}</code></p></li>
</ul>

<p><br/>
By using those types, you get some extra help on page creation. For example, if you set an Icon mustache, you will get a button to select the icon from a list.</p>

<p><img src="images/landingpage.icon-mustache.png"  class="img-photo" /></p>

<h2 id="landing-page">Landing Page</h2>
<pre class="highlight plaintext"><code>Using WEB Templates you don't
have to do any design decision 
when building your pages.

</code></pre>
<p>To build and get online your landing page, click on <strong>Landing Pages &gt; My Pages</strong> menu option and then click on the <strong>New Landing Page</strong> button. </p>

<p><img src="images/landing-page-build.jpg" class="img-photo"/></p>

<p>You will get a form to set a page name, a description and select the template you want to use. </p>

<p>The key point is that when the template gets selected, all the related {{mustaches}} will get listed so you only have to fill the related boxes and save your work to get your page online.</p>
<pre class="highlight plaintext"><code>When saved, the page will get visible 
on the Internet.
</code></pre>
<aside class="warning">
IMPORTANT NOTE: once saved, the page name cannot be changed.
</aside>
<pre class="highlight plaintext"><code>If you change the template, all the 
previous values may be deleted.
</code></pre>
<p><img src="images/landingpage.page-update-mustaches.png"  class="img-photo" /></p>

<h3 id="default-url">Default URL</h3>

<p>When your page gets saved, it&rsquo;s hosted on AWS S3 instantly. To check how it looks, just go to your page default address by clicking on the top page link.</p>

<p><img src="images/landingpage-page-update-link.png"  class="img-photo" /></p>

<p>That link will look like <code class="prettyprint">https://s3-us-west-2.amazonaws.com/files.landingpage.services/us-west-2:ca67230b-4f84-43bb-96d7-7fcbfdf1a034/My-first-page.html</code>, but of course you can use your own domain(s) if it&rsquo;s required.</p>

<h3 id="use-your-domain-s">Use your domain(s)</h3>
<pre class="highlight plaintext"><code>A page can have multiple domains pointing to it!
</code></pre>
<p>To use your own domain create a new page as described above and click on the *<em>Options</em>+ button.</p>

<aside class="notice">
The Options button will only get displayed after saving your page.
</aside>

<p><img src="images/landingpage-page-update-options.png"  class="img-photo" /></p>

<p>A popup will be displayed. Enter your domain (e.g. www.mydomain.com) and click on the <strong>Add</strong> button. Also remember to check the Default Page option if you want the current to get displayed as the default domain page.</p>

<p><img src="images/landingpage.page-update-add-domain.png"  class="img-photo" /></p>

<p>Please note that you also need to add a CNAME entry on your domain&rsquo;s DNS server.</p>

<p><code class="prettyprint">www.mydomain.com   CNAME   ec2-52-38-184-2.us-west-2.compute.amazonaws.com</code></p>

<h1 id="api">API</h1>

<p>You can use the Mustache API to:</p>

<ul>
<li>add new contacts (email receivers) programmatically,</li>
<li>send transactional emails (emails not related with any campaign).</li>
</ul>

<aside class="notice">
To manage and execute your email marketing campaigns you must login at the website.
</aside>

<p>If your coding using dotNET, you can install the available Nuget package:</p>

<p><code class="prettyprint">PM &gt; Install-Package mustache.website.sdk.dotNET</code></p>

<h2 id="api-endpoint">API endpoint</h2>

<p>To call mustache.website API methods, use <strong>https://api.mustache.website</strong> API endpoint .</p>

<p>For example, to create a new Contact, you call the metod <code class="prettyprint">https://api.mustache.website/contact/add</code></p>

<h2 id="authentication">Authentication</h2>

<blockquote>
<p>Authentication example (select language on top)</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
    <span class="p">...</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
      <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'my-api-key'</span>
    <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">});</span>
</code></pre><pre class="highlight csharp"><code>
 <span class="n">MustacheAPI</span> <span class="n">API</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MustacheAPI</span><span class="p">(</span><span class="s">"my-api-key"</span><span class="p">);</span>

</code></pre>
<p><strong>mustache.website</strong> uses API keys to allow access to the API methods. You can get an API key at the <a href="https://mustache.website">website</a>.</p>

<p>We expect for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">&#39;X-Api-Key&#39;: &#39;my-api-key&#39;</code></p>

<aside class="notice">
You must replace <code>my-api-key</code> with your personal API key.
</aside>

<h2 id="passing-parameters">Passing parameters</h2>

<p>Method call parameters must be passed in the Body part of the request message using <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> format.</p>

<p>The <code class="prettyprint">Content-Type</code> header attribute must be set to <code class="prettyprint">application/json</code>.</p>
<pre class="highlight plaintext"><code>
// How to set dates and numbers.

{

    ...

    "date" : "1482932562"

    ...

    "total" : 19.99

    ...

    "countryCode" : "FR"

    ...

}
</code></pre>
<h3 id="dates-format">Dates Format</h3>

<p>When setting dates, use <a href="https://en.wikipedia.org/wiki/Unix_time">Unix time format</a>. </p>

<p>For example, <code class="prettyprint">1482932562</code> date value translates to <code class="prettyprint">Wednesday, 28-Dec-16 13:42:42 UTC</code>.</p>

<h3 id="numbers-format">Numbers Format</h3>

<p>Numbers must use the dot &ldquo;.&rdquo; symbol as the decimal mark (f.ex. 20.99). This is due to <a href="http://www.json.org/">JSON format</a> requirements.</p>

<p>If you need to display a diferent format (f.ex. 20,99) please check Country Code parameter.</p>

<h3 id="country-code">Country Code</h3>

<p>Country code (f.ex. <code class="prettyprint">US</code>) is used to format currency and date values (and also to calculate some country related statistics). </p>

<p>An example.</p>

<p>You may need to display date values using the French format (f.ex. 24/12/2017). In that case you must set <code class="prettyprint">countryCode</code> to <code class="prettyprint">FR</code> value.</p>

<h2 id="send-email">Send Email</h2>

<p><span style="color:green;font-size: 20px; font-weight: bold">mailing/email/send</span></p>

<blockquote>
<p>Send email example </p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">sendEmailJson</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"from"</span><span class="p">:</span> <span class="p">{</span> 
        <span class="s2">"fromName"</span> <span class="p">:</span> <span class="s2">"ACME Corporation"</span><span class="p">,</span> 
        <span class="s2">"fromAddress"</span> <span class="p">:</span> <span class="s2">"hello@acme.com"</span>
        <span class="p">},</span>
    <span class="s2">"destination"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"toAddresses"</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">"customer1@mycontacts.com"</span><span class="p">,</span> <span class="s2">"customer-info@mycontacts.com"</span> <span class="p">],</span>
        <span class="s2">"ccAddresses"</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">"customer-sales@mycontacts.com"</span> <span class="p">]</span>       
    <span class="p">},</span>
    <span class="s2">"subject"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"data"</span> <span class="p">:</span> <span class="s2">"Welcome to Acme!"</span> <span class="p">},</span>
    <span class="s2">"body"</span><span class="p">:</span> 
      <span class="p">{</span>
        <span class="s2">"html"</span><span class="p">:</span> <span class="p">{</span> <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"&lt;span style=\"color:blue\"&gt;Hello!&lt;/span&gt;"</span><span class="p">}</span> <span class="p">,</span>
        <span class="s2">"text"</span><span class="p">:</span> <span class="p">{</span> <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"Hello!"</span><span class="p">}</span>
      <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.mustache.website/mailing/email/send'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">sendEmailJson</span><span class="p">),</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
      <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'ExV0d92KzQ8QgsTVnevddpbB8cUaAfPs7ntVF8g0'</span>
    <span class="p">},</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span> 
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre><pre class="highlight csharp"><code><span class="n">MustacheAPI</span> <span class="n">API</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MustacheAPI</span><span class="p">(&lt;</span><span class="n">YOUR_API_KEY</span><span class="p">&gt;);</span>

<span class="n">SendEmailResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">API</span><span class="p">.</span><span class="nf">SendEmail</span><span class="p">(</span><span class="k">new</span> <span class="n">Model</span><span class="p">.</span><span class="nf">Email</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">From</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FromEmailAddress</span><span class="p">(){</span>
        <span class="n">FromName</span> <span class="p">=</span> <span class="s">"ACME CORPORATION"</span><span class="p">,</span>
        <span class="n">FromAddress</span> <span class="p">=</span> <span class="s">"hello@acme.com"</span>
    <span class="p">},</span>
    <span class="n">Destination</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DestinationEmailAddresses</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">ToAddresses</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span>
            <span class="s">"ignacio.coll@gmail.com"</span><span class="p">,</span> <span class="s">"hello@mustache.website"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">Subject</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TextContent</span><span class="p">()</span> <span class="p">{</span> <span class="n">Data</span> <span class="p">=</span> <span class="s">"Just a test from API Call."</span> <span class="p">},</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EmailBody</span><span class="p">(){</span>
        <span class="n">Html</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TextContent</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">Data</span> <span class="p">=</span> <span class="s">"This is an HTML formatted &lt;span style=\"color:blue\"&gt;text&lt;/span&gt;!"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>Use this method to send an email.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.mustache.webservice/mailing/email/send</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>[FromEmail]</td>
<td>set your name and reply to email address</td>
</tr>
<tr>
<td>destination</td>
<td>[DestinationEmailAddresses]</td>
<td>set destination addresses</td>
</tr>
<tr>
<td>subject</td>
<td>[TextContent]</td>
<td>subject description</td>
</tr>
<tr>
<td>body</td>
<td>[EmailBody]</td>
<td>email body content, including text and HTML format</td>
</tr>
</tbody></table>

<hr>

<h4 id="fromemail">FromEmail</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fromName</td>
<td>string</td>
<td>address name, (e.g. ACME Corporation)</td>
</tr>
<tr>
<td>fromAddress</td>
<td>string</td>
<td>email address (e.g. hello@acme.com)</td>
</tr>
</tbody></table>

<h4 id="destinationemailaddresses">DestinationEmailAddresses</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>toAddresses</td>
<td>list</td>
<td>list of destination addresses</td>
</tr>
<tr>
<td>ccAddresses</td>
<td>list</td>
<td>CC list of addresses</td>
</tr>
<tr>
<td>bccAddresses</td>
<td>list</td>
<td>BCC list of addresses</td>
</tr>
</tbody></table>

<h4 id="textcontent">TextContent</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>charset</td>
<td>string</td>
<td>UTF-8</td>
<td>sets the content character set</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td></td>
<td>the text content (e.g. Hello, this is a message)</td>
</tr>
</tbody></table>

<h4 id="emailbody">EmailBody</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>html</td>
<td>TextContent</td>
<td>HTML content</td>
</tr>
<tr>
<td>text</td>
<td>TextContent</td>
<td>non-formatted content</td>
</tr>
</tbody></table>

<h3 id="send-email-response-parameters">Send Email Response Parameters</h3>

<blockquote>
<p>Send email API response example </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"statusMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"remainingCredits"</span><span class="p">:</span><span class="w"> </span><span class="mi">995</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bounceRatio"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"complaintRatio"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">}</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight csharp"><code><span class="n">SendEmailResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">API</span><span class="p">.</span><span class="nf">SendEmail</span><span class="p">(</span> <span class="p">...</span> <span class="p">);</span>

<span class="k">switch</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">){</span>  
    <span class="k">case</span> <span class="m">200</span><span class="p">:</span> <span class="c1">// message sent.</span>
        <span class="p">...</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre>
<p>When success (HTTP response code 200), you will get the next message in the body part as json text.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>statusCode</td>
<td>number</td>
<td>The call execution result (check <a href="#api-status-codes">API Status Codes</a>)</td>
</tr>
<tr>
<td>statusMessage</td>
<td>string</td>
<td>The result text message (e.g. error details)</td>
</tr>
<tr>
<td>info</td>
<td>[SendEmailResponseUserInfo]</td>
<td>Some user info</td>
</tr>
</tbody></table>

<hr>

<h4 id="sendemailresponseuserinfo">SendEmailResponseUserInfo</h4>

<blockquote>
<p>Send Email response example when
using invalid recipient address.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"remainingCredits"</span><span class="p">:</span><span class="w"> </span><span class="mi">999999823</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounceRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"complaintRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"prohibitedAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"bounce+9999988@simulator.amazonses.com"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nt">"statusMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No destination addresses after checking related contacts bounces and complaints."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remainingCredits</td>
<td>Number</td>
<td>The remaining email credits</td>
</tr>
<tr>
<td>bounceRatio</td>
<td>Percentaje</td>
<td>Your current bounce ratio</td>
</tr>
<tr>
<td>complaintRatio</td>
<td>Percentaje</td>
<td>Your current complaint ratio</td>
</tr>
<tr>
<td>prohibitedAddresses</td>
<td>List of strings</td>
<td>The addresses deleted from the message</td>
</tr>
</tbody></table>

<aside class="warning">
Take care of the remaining credits and ratios before sending a new message.
</aside>

<p>Please take note that <code class="prettyprint">prohibitedAddresses</code> attribute indicates the addresses that have been deleted from the message before sending due to bounces and complaints. When a recipient address is not valid or user sends a complaint/spam warning, we mark the related email as not-valid for sending.</p>

<h2 id="add-contact">Add Contact</h2>

<p><span style="color:green;font-size: 20px; font-weight: bold">contact/add</span></p>

<blockquote>
<p>Add new contact example </p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">addContactJson</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"hello@nachocoll.website"</span><span class="p">,</span>
    <span class="s2">"firstName"</span><span class="p">:</span> <span class="s2">"Nacho"</span>
    <span class="s2">"lastName"</span><span class="p">:</span> <span class="s2">"Coll"</span><span class="p">,</span>
    <span class="s2">"customAttributes"</span><span class="p">:</span> 
      <span class="p">{</span>
        <span class="s2">"attributeName"</span> <span class="p">:</span> <span class="s2">"origin"</span> <span class="p">,</span>
        <span class="s2">"attributeType"</span> <span class="p">:</span> <span class="s2">"S"</span><span class="p">,</span>
        <span class="s2">"AttributeValue"</span> <span class="p">:</span> <span class="s2">"mobile"</span>
      <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.mustache.website/contact/add'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">addContactJson</span><span class="p">),</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
      <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'ExV0432KzQ8QgsTVnevddpbB8cUaAfPs7ntVF8g0'</span>
    <span class="p">},</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span> 
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre><pre class="highlight csharp"><code><span class="n">MustacheAPI</span> <span class="n">API</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MustacheAPI</span><span class="p">(&lt;</span><span class="n">YOUR_API_KEY</span><span class="p">&gt;);</span>

<span class="n">AddContactResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">mustacheAPI</span><span class="p">.</span><span class="nf">AddContact</span><span class="p">(</span><span class="k">new</span> <span class="nf">Contact</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Email</span> <span class="p">=</span> <span class="s">"hello@nachocoll.website"</span><span class="p">,</span>
    <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Nacho"</span><span class="p">,</span>
    <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Coll"</span><span class="p">,</span>
    <span class="n">CustomAttributes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">CustomAttribute</span><span class="p">&gt;()</span> <span class="p">{</span>
        <span class="k">new</span> <span class="nf">CustomAttribute</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">AttributeName</span> <span class="p">=</span> <span class="s">"origin"</span><span class="p">,</span>
            <span class="n">AttributeType</span> <span class="p">=</span> <span class="n">CustomAttribute</span><span class="p">.</span><span class="n">AttributeTypes</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span>
            <span class="n">AttributeValue</span> <span class="p">=</span> <span class="s">"mobile"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>Use this method to add a new contact (email receiver) to your list.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.mustache.webservice/contact/add</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>the new contact email address</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>contact first name [optional]</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>contact last name [optional]</td>
</tr>
<tr>
<td>customAttributes</td>
<td>list of [CustomAttribute]</td>
<td>contact attributes</td>
</tr>
</tbody></table>

<hr>

<h4 id="customattribute">CustomAttribute</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>attributeName</td>
<td>string</td>
<td>the attribute name</td>
</tr>
<tr>
<td>attributeType</td>
<td><span style="color:green; opacity:0.8">AttributeType</span></td>
<td>one of available types</td>
</tr>
<tr>
<td>attributeValue</td>
<td>string</td>
<td>the attribute value</td>
</tr>
</tbody></table>

<p>where <span style="color:green; opacity:0.8">AttributeType</span> must be:</p>

<ul>
<li><code class="prettyprint">S</code> for text value,</li>
<li><code class="prettyprint">N</code> for number, </li>
<li><code class="prettyprint">D1</code> for date formatted using day/month/year format,</li>
<li><code class="prettyprint">D2</code> for date formatted using month/day/year format,</li>
<li><code class="prettyprint">D3</code> for date using <a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a> format (milliseconds).</li>
</ul>

<p>Please note that attribute values will be converted to related attribute type. For example, if you set an attribute type <code class="prettyprint">N</code> (number), and set a value like <code class="prettyprint">&#39;this is not a number&#39;</code>, the API call will fail.</p>

<h3 id="add-contact-response-parameters">Add Contact Response Parameters</h3>

<blockquote>
<p>Add contact API response example </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"statusMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight csharp"><code><span class="n">AddContactResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">API</span><span class="p">.</span><span class="nf">SendEmail</span><span class="p">(</span> <span class="p">...</span> <span class="p">);</span>

<span class="k">switch</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">){</span>  
    <span class="k">case</span> <span class="m">200</span><span class="p">:</span> <span class="c1">// contact added.</span>
        <span class="p">...</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre>
<p>When success (HTTP response code 200), you will get the next message in the body part as json text.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>statusCode</td>
<td>number</td>
<td>The call execution result (check <a href="#api-status-codes">API Status Codes</a>)</td>
</tr>
<tr>
<td>statusMessage</td>
<td>string</td>
<td>The result text message (e.g. error details)</td>
</tr>
</tbody></table>

<h2 id="api-status-codes">API Status Codes</h2>

<p>The mustache.website API uses the following status codes:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The call was executed correctly</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request &ndash; Check your request parameters</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Check your API key</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; Check your credits or bounce/complaint ratios</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your API key is valid but there is no related user on our servers</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; Check for already existing values (e.g. already existing Contact (email))</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The requested object has been removed</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later</td>
</tr>
</tbody></table>

<h1 id="support">Support</h1>
<pre class="highlight plaintext"><code>Do not hesitate to create a new issue
if you need help.
</code></pre>
<p>If you found an issue, please click <a href="https://github.com/NachoColl/mustache.website.docs/issues">here</a> to open a new ticket or contact <a href="https://www.linkedin.com/in/ignaciocoll/">me</a> on LinkedIn.</p>

<p><br/><br/></p>

<p><span style="font-size:10px">This is THE END ;)</span></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="notes">Notes</a>
                <a href="#" data-language-name="javascript">Javascript</a>
                <a href="#" data-language-name="csharp">.NET</a>
          </div>
      </div>
    </div>
  </body>
</html>
